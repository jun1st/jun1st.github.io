{"expireTime":9007200844525421000,"key":"transformer-remark-markdown-html-ast-27fbeb373cb04bd3565b45d2d0130ffc-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-external-links-","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"2020-年了，为什么还是-hadoop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#2020-%E5%B9%B4%E4%BA%86%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E6%98%AF-hadoop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2020 年了，为什么还是 Hadoop","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":24,"offset":24}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":24,"offset":24}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第一个问题就是，都已经 2020 年了，为什么还是 Hadoop？ 这玩意都出来这么多年了，难道就没有新的产品和技术吗？ Hadoop 虽然已经出来那么多年了，是一个老产品，但是 Hadoop 也不是当年的 Hadoop， 现在更像是一个生态系统，基于 Hadoop 的框架构建的各个产品和技术层出不穷， 但是 HDFS 还是那个 HDFS，学一下背后的细想，更有利于理解和掌握整个体系。","position":{"start":{"line":4,"column":1,"offset":26},"end":{"line":4,"column":195,"offset":220}}}],"position":{"start":{"line":4,"column":1,"offset":26},"end":{"line":4,"column":195,"offset":220}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"搭建-linux-集群"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E6%90%AD%E5%BB%BA-linux-%E9%9B%86%E7%BE%A4","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"搭建 Linux 集群","position":{"start":{"line":7,"column":4,"offset":226},"end":{"line":7,"column":15,"offset":237}}}],"position":{"start":{"line":7,"column":1,"offset":223},"end":{"line":7,"column":15,"offset":237}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"我选了 Ubuntu 系统，找了 3 台机器，1 个master， 2 个 slave。 首先登陆机器，修改主机名， 在 ubuntu 上修改的是 ","position":{"start":{"line":9,"column":1,"offset":239},"end":{"line":9,"column":75,"offset":313}}},{"type":"raw","value":"<code class=\"language-text\">/etc/hostname</code>","position":{"start":{"line":9,"column":75,"offset":313},"end":{"line":9,"column":90,"offset":328}}},{"type":"text","value":" 的配置，各自修改为 master, slave, slave2。 然后修改 ","position":{"start":{"line":9,"column":90,"offset":328},"end":{"line":9,"column":129,"offset":367}}},{"type":"raw","value":"<code class=\"language-text\">/etc/hosts</code>","position":{"start":{"line":9,"column":129,"offset":367},"end":{"line":9,"column":141,"offset":379}}},{"type":"text","value":"  文件， 配置上 ip 地址和各个别名。 3 台机器都要配置。","position":{"start":{"line":9,"column":141,"offset":379},"end":{"line":9,"column":173,"offset":411}}}],"position":{"start":{"line":9,"column":1,"offset":239},"end":{"line":9,"column":173,"offset":411}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token number\">10.0</span>.2.4 master\n<span class=\"token number\">10.0</span>.2.7 slave\n<span class=\"token number\">10.0</span>.2.6 slave2</code></pre></div>","position":{"start":{"line":11,"column":1,"offset":413},"end":{"line":15,"column":4,"offset":471}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"配置好别名之后，需要配置 master 和 slaves 之间的 ssh 免密登陆, 用 root 账户创建一个一致的叫做 hadoop 的账户，","position":{"start":{"line":17,"column":1,"offset":473},"end":{"line":17,"column":74,"offset":546}}}],"position":{"start":{"line":17,"column":1,"offset":473},"end":{"line":17,"column":74,"offset":546}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">useradd -m hadoop\npasswd hadoop # 设置个密码</code></pre></div>","position":{"start":{"line":19,"column":1,"offset":548},"end":{"line":22,"column":4,"offset":595}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在 master 机器上，切换到 hadoop 用户，生成 SSH 公钥","position":{"start":{"line":24,"column":1,"offset":597},"end":{"line":24,"column":37,"offset":633}}}],"position":{"start":{"line":24,"column":1,"offset":597},"end":{"line":24,"column":37,"offset":633}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ssh-keygen -t rsa</code></pre></div>","position":{"start":{"line":26,"column":1,"offset":635},"end":{"line":28,"column":4,"offset":664}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"然后将公钥发送到各个 slave 节点上，包括自己","position":{"start":{"line":30,"column":1,"offset":666},"end":{"line":30,"column":26,"offset":691}}}],"position":{"start":{"line":30,"column":1,"offset":666},"end":{"line":30,"column":26,"offset":691}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ssh-copy-id -i ~/.ssh/id_rsa.pub \nssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@slave\nssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@slave2</code></pre></div>","position":{"start":{"line":32,"column":1,"offset":693},"end":{"line":36,"column":4,"offset":831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这时候可以试一下 ssh 免密登陆","position":{"start":{"line":38,"column":1,"offset":833},"end":{"line":38,"column":18,"offset":850}}}],"position":{"start":{"line":38,"column":1,"offset":833},"end":{"line":38,"column":18,"offset":850}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ssh</span> master\n<span class=\"token function\">ssh</span> slave\n<span class=\"token function\">ssh</span> slave2</code></pre></div>","position":{"start":{"line":40,"column":1,"offset":852},"end":{"line":44,"column":4,"offset":895}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"应该能直接 ssh 到对应的机器上去了","position":{"start":{"line":46,"column":1,"offset":897},"end":{"line":46,"column":20,"offset":916}}}],"position":{"start":{"line":46,"column":1,"offset":897},"end":{"line":46,"column":20,"offset":916}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"安装-jdk-和-hadoop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%AE%89%E8%A3%85-jdk-%E5%92%8C-hadoop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"安装 JDK 和 Hadoop","position":{"start":{"line":49,"column":4,"offset":922},"end":{"line":49,"column":19,"offset":937}}}],"position":{"start":{"line":49,"column":1,"offset":919},"end":{"line":49,"column":19,"offset":937}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"下载 JDK 1.8 和 Hadoop 2.10.0， 我把这两个都放在 /opt 目录下， 并且把 /opt 目录的所有权修改为 hadoop（slave 节点也修改所有者）","position":{"start":{"line":51,"column":1,"offset":939},"end":{"line":51,"column":89,"offset":1027}}}],"position":{"start":{"line":51,"column":1,"offset":939},"end":{"line":51,"column":89,"offset":1027}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">chown</span> -R hadoop /opt</code></pre></div>","position":{"start":{"line":53,"column":1,"offset":1029},"end":{"line":55,"column":4,"offset":1061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"修改 ","position":{"start":{"line":57,"column":1,"offset":1063},"end":{"line":57,"column":4,"offset":1066}}},{"type":"raw","value":"<code class=\"language-text\">/etc/profile</code>","position":{"start":{"line":57,"column":4,"offset":1066},"end":{"line":57,"column":18,"offset":1080}}},{"type":"text","value":" 文件，在末尾添加","position":{"start":{"line":57,"column":18,"offset":1080},"end":{"line":57,"column":27,"offset":1089}}}],"position":{"start":{"line":57,"column":1,"offset":1063},"end":{"line":57,"column":27,"offset":1089}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/jdk1.8.0_241\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/hadoop-2.10.0\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$HADOOP_HOME</span>/bin</code></pre></div>","position":{"start":{"line":59,"column":1,"offset":1091},"end":{"line":64,"column":4,"offset":1243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"配置 Hadoop， 修改的文件都位于 ","position":{"start":{"line":66,"column":1,"offset":1245},"end":{"line":66,"column":21,"offset":1265}}},{"type":"raw","value":"<code class=\"language-text\">/opt/hadoop-2.10.0/etc/hadoop/</code>","position":{"start":{"line":66,"column":21,"offset":1265},"end":{"line":66,"column":53,"offset":1297}}},{"type":"text","value":" 目录下， 修改 ","position":{"start":{"line":66,"column":53,"offset":1297},"end":{"line":66,"column":62,"offset":1306}}},{"type":"raw","value":"<code class=\"language-text\">hadoop-env.sh</code>","position":{"start":{"line":66,"column":62,"offset":1306},"end":{"line":66,"column":77,"offset":1321}}},{"type":"text","value":" 文件, 在末尾添加","position":{"start":{"line":66,"column":77,"offset":1321},"end":{"line":66,"column":87,"offset":1331}}}],"position":{"start":{"line":66,"column":1,"offset":1245},"end":{"line":66,"column":87,"offset":1331}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/jdk1.8.0_241\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/hadoop-2.10.0</code></pre></div>","position":{"start":{"line":68,"column":1,"offset":1333},"end":{"line":71,"column":4,"offset":1417}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"修改 ","position":{"start":{"line":73,"column":1,"offset":1419},"end":{"line":73,"column":4,"offset":1422}}},{"type":"raw","value":"<code class=\"language-text\">hdfs-site.xml</code>","position":{"start":{"line":73,"column":4,"offset":1422},"end":{"line":73,"column":19,"offset":1437}}},{"type":"text","value":", 修改：","position":{"start":{"line":73,"column":19,"offset":1437},"end":{"line":73,"column":24,"offset":1442}}}],"position":{"start":{"line":73,"column":1,"offset":1419},"end":{"line":73,"column":24,"offset":1442}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.replication<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.name.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/opt/hdfs/name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.data.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/opt/hdfs/data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":75,"column":1,"offset":1444},"end":{"line":90,"column":4,"offset":1732}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"修改 ","position":{"start":{"line":92,"column":1,"offset":1734},"end":{"line":92,"column":4,"offset":1737}}},{"type":"raw","value":"<code class=\"language-text\">mapred-site.xml</code>","position":{"start":{"line":92,"column":4,"offset":1737},"end":{"line":92,"column":21,"offset":1754}}},{"type":"text","value":":","position":{"start":{"line":92,"column":21,"offset":1754},"end":{"line":92,"column":22,"offset":1755}}}],"position":{"start":{"line":92,"column":1,"offset":1734},"end":{"line":92,"column":22,"offset":1755}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.framework.name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":94,"column":1,"offset":1757},"end":{"line":103,"column":4,"offset":1889}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"修改 ","position":{"start":{"line":105,"column":1,"offset":1891},"end":{"line":105,"column":4,"offset":1894}}},{"type":"raw","value":"<code class=\"language-text\">yarn-site.xml</code>","position":{"start":{"line":105,"column":4,"offset":1894},"end":{"line":105,"column":19,"offset":1909}}},{"type":"text","value":":","position":{"start":{"line":105,"column":19,"offset":1909},"end":{"line":105,"column":20,"offset":1910}}}],"position":{"start":{"line":105,"column":1,"offset":1891},"end":{"line":105,"column":20,"offset":1910}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- Site specific YARN configuration properties --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8080<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.resource-tracker.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8082<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mapreduce_shuffle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services.mapreduce.shuffle.class<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>org.apache.hadoop.mapred.ShuffleHandler<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":107,"column":1,"offset":1912},"end":{"line":132,"column":4,"offset":2466}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"再修改 ","position":{"start":{"line":134,"column":1,"offset":2468},"end":{"line":134,"column":5,"offset":2472}}},{"type":"raw","value":"<code class=\"language-text\">slaves</code>","position":{"start":{"line":134,"column":5,"offset":2472},"end":{"line":134,"column":13,"offset":2480}}},{"type":"text","value":" 文件, 里面配置 slave 节点的别名","position":{"start":{"line":134,"column":13,"offset":2480},"end":{"line":134,"column":34,"offset":2501}}}],"position":{"start":{"line":134,"column":1,"offset":2468},"end":{"line":134,"column":34,"offset":2501}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">slave\nslave1</code></pre></div>","position":{"start":{"line":136,"column":1,"offset":2503},"end":{"line":139,"column":4,"offset":2527}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"把修改后的 hadoop 复制到所有的 slave 节点上， ","position":{"start":{"line":141,"column":1,"offset":2529},"end":{"line":141,"column":32,"offset":2560}}}],"position":{"start":{"line":141,"column":1,"offset":2529},"end":{"line":141,"column":32,"offset":2560}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">scp</span> -r /opt/hadoop-2.10.0/ hadoop@slave:/opt\n<span class=\"token function\">scp</span> -r /opt/hadoop-2.10.0/ hadoop@slave2:/opt</code></pre></div>","position":{"start":{"line":143,"column":1,"offset":2562},"end":{"line":146,"column":4,"offset":2664}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"格式化-hdfs"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E6%A0%BC%E5%BC%8F%E5%8C%96-hdfs","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"格式化 HDFS","position":{"start":{"line":148,"column":4,"offset":2669},"end":{"line":148,"column":12,"offset":2677}}}],"position":{"start":{"line":148,"column":1,"offset":2666},"end":{"line":148,"column":12,"offset":2677}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">hadoop namenode -format</code></pre></div>","position":{"start":{"line":150,"column":1,"offset":2679},"end":{"line":152,"column":4,"offset":2714}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在 hadoop 安装目录下，sbin 目录里有各个文件的启动脚本，","position":{"start":{"line":154,"column":1,"offset":2716},"end":{"line":154,"column":35,"offset":2750}}}],"position":{"start":{"line":154,"column":1,"offset":2716},"end":{"line":154,"column":35,"offset":2750}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./start-dfs.sh\n./start-yarn.sh</code></pre></div>","position":{"start":{"line":156,"column":1,"offset":2752},"end":{"line":159,"column":4,"offset":2794}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"启动过程会看到:","position":{"start":{"line":161,"column":1,"offset":2796},"end":{"line":161,"column":9,"offset":2804}}}],"position":{"start":{"line":161,"column":1,"offset":2796},"end":{"line":161,"column":9,"offset":2804}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">starting <span class=\"token function\">yarn</span> daemons\nstarting resourcemanager, logging to /opt/hadoop-2.10.0/logs/yarn-hadoop-resourcemanager-master.out\nslave: starting nodemanager, logging to /opt/hadoop-2.10.0/logs/yarn-hadoop-nodemanager-slave.out\nslave2: starting nodemanager, logging to /opt/hadoop-2.10.0/logs/yarn-hadoop-nodemanager-slave2.out</code></pre></div>","position":{"start":{"line":163,"column":1,"offset":2806},"end":{"line":169,"column":4,"offset":3138}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"应该就启动成功，","position":{"start":{"line":171,"column":1,"offset":3140},"end":{"line":171,"column":9,"offset":3148}}}],"position":{"start":{"line":171,"column":1,"offset":3140},"end":{"line":171,"column":9,"offset":3148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"一个 Hadoop Cluster 就装好了","position":{"start":{"line":173,"column":1,"offset":3150},"end":{"line":173,"column":23,"offset":3172}}}],"position":{"start":{"line":173,"column":1,"offset":3150},"end":{"line":173,"column":23,"offset":3172}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":173,"column":23,"offset":3172}}}}