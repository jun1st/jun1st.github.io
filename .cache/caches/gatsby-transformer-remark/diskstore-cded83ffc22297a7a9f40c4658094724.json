{"expireTime":9007200859243517000,"key":"transformer-remark-markdown-ast-85ebec99e26e87ef9d490b2c4278c8b8-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-external-links-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"可能你已经习惯了直接从 Spring Initializer 来初始化一个 Spring Boot 项目，然后整个 Spring 框架就被带到项目里面来了。其实 Spring 作为一个十分优秀的框架，每个组建都是可以独立使用的。 探索 Spring Beans 组建，我们就从头开始添加需要的 Jar 包。","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":154,"offset":154},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":154,"offset":154},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#build-from-source","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Build From Source","position":{"start":{"line":4,"column":4,"offset":159},"end":{"line":4,"column":21,"offset":176},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":156},"end":{"line":4,"column":21,"offset":176},"indent":[]},"data":{"id":"build-from-source","htmlAttributes":{"id":"build-from-source"},"hProperties":{"id":"build-from-source"}}},{"type":"paragraph","children":[{"type":"text","value":"参考 Spring ","position":{"start":{"line":6,"column":1,"offset":178},"end":{"line":6,"column":11,"offset":188},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/spring-projects/spring-framework/wiki/Build-from-Source","children":[{"type":"text","value":"官方文档","position":{"start":{"line":6,"column":12,"offset":189},"end":{"line":6,"column":16,"offset":193},"indent":[]}}],"position":{"start":{"line":6,"column":11,"offset":188},"end":{"line":6,"column":93,"offset":270},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}},{"type":"text","value":", 下载编译源代码","position":{"start":{"line":6,"column":93,"offset":270},"end":{"line":6,"column":102,"offset":279},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":178},"end":{"line":6,"column":102,"offset":279},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone git@github.com:spring-projects/spring-framework.git\n<span class=\"token builtin class-name\">cd</span> spring-framework\n\n./gradlew build</code></pre></div>","position":{"start":{"line":8,"column":1,"offset":281},"end":{"line":14,"column":4,"offset":392},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"如果你第一次编译，下载所有需要的代码和库，可能会需要不少时间。","position":{"start":{"line":16,"column":1,"offset":394},"end":{"line":16,"column":32,"offset":425},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":394},"end":{"line":16,"column":32,"offset":425},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#使用-spring-beans","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"使用 Spring Beans","position":{"start":{"line":19,"column":4,"offset":431},"end":{"line":19,"column":19,"offset":446},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":428},"end":{"line":19,"column":19,"offset":446},"indent":[]},"data":{"id":"使用-spring-beans","htmlAttributes":{"id":"使用-spring-beans"},"hProperties":{"id":"使用-spring-beans"}}},{"type":"paragraph","children":[{"type":"text","value":"我们新建一个 Maven 项目来单独使用 Spring Beans。 我使用 Intellij Idea， File -> New -> Project， 选择 Maven 项目模板，创建一个空项目。 新建第一个类: me.fengqijun.Main","position":{"start":{"line":21,"column":1,"offset":448},"end":{"line":21,"column":127,"offset":574},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":448},"end":{"line":21,"column":127,"offset":574},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"1.png","alt":"structure","position":{"start":{"line":23,"column":1,"offset":576},"end":{"line":23,"column":20,"offset":595},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a30ecded89de24aa5504a9b28bff0bcc/5d72a/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.829736211031175%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABe0lEQVQ4y51Sa0+DMBTl//8pv5n4wWjmHAvsQR8wpzBKCTAp9Nh2L6ZucTY5ub3tvSfnPrzJKsXz+BX+ZIIgCDAajUAIge/7KIoCUkpnLYQQzuZ5js1m43x7F8L6AttyDC+TJSK+QhgGyLIMSim0bevQ9/1FdF135ivVoZRreE3dgMZvWCWJ+/jv0Vqbakp41slFAZK8ISIUTVMfA4bB13AiLHaE0D142eCJGaWMXk36TdmJUO4JzbHlZkJiQRkop2CMYTqdur4OVf6JcBgYyAYPsxnoYoG6adyQblZondYkGpmIqhYvdAVOIhBKMZ/PUVXV7YRFIbBex1hG1OxhhMRMXal2r9BO/1DyOQ5vZ4Rdr2FTqizBYuljuSTgPDb92wyUXFqXk3WEuttC5u9mFzkYmaFTtan800Fri9YBONkhdm/KWbc2bRWiju4Qzu6NqkfzGQ/AHbTmx/t37P5iY5kh/IBnRoFJKl3zmRlCmqY/lvlS/8572LuSvwBOvPJSp9ukEgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"structure\"\n        title=\"\"\n        src=\"/static/a30ecded89de24aa5504a9b28bff0bcc/fcda8/1.png\"\n        srcset=\"/static/a30ecded89de24aa5504a9b28bff0bcc/12f09/1.png 148w,\n/static/a30ecded89de24aa5504a9b28bff0bcc/e4a3f/1.png 295w,\n/static/a30ecded89de24aa5504a9b28bff0bcc/fcda8/1.png 590w,\n/static/a30ecded89de24aa5504a9b28bff0bcc/5d72a/1.png 834w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":23,"column":1,"offset":576},"end":{"line":23,"column":20,"offset":595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"添加 Spring Beans 的 Jar 包。 通过 Open Module Setting 来设置项目以来的 Libries","position":{"start":{"line":25,"column":1,"offset":597},"end":{"line":25,"column":65,"offset":661},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":597},"end":{"line":25,"column":65,"offset":661},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"2.png","alt":"module setting","position":{"start":{"line":27,"column":1,"offset":663},"end":{"line":27,"column":25,"offset":687},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d997f78656cf9d87c2a303238923ee4/076ca/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 163.8949671772429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFHklEQVRIx31WSZPaZhTkf7tSlVOqfPAll5xT9iHbKak4LsdxnMSTwrPAsAq0gTYECIQQiB06rz9GmJmxQ9WrT4jva3W/1++JQskKUG6aKFU0mN0egkECrx/D7Y3h9EZwgugUXa5yr6ZZaOpd6LaPSsNA1w3R9AeotHQUbqoNvLss4/c//sRf/1zg3d/vUfxwjXKlhkazjbZhqWjpst4F7ze0tlqr9SZabR2OV4PvllGIRxGajo/bWgM311fodrvo9XrwPA/lchnD4QBRNMRI9o1GI7XG4zFms1RihvlcgmuaYBQNUNhtt8iyBbwgxGqxAD/8PplMoOu6egDXTqcDx3GgaS11L0kSLGR/lmUqlsuVOlfYCuB+v8dwFMN0ffQHA/T7fbTbbYRhiPV6LZuX6vA5wHw+V0GWvG/btjqnANVnv4M5ydC0OujakrNWC41GQyQPMZ1OT2Dna369Wq3guq6kJjoDVJhbhNEYlufD9z3c3NwoppRKNjnIeRzlLjGWvPLBJ8DD4aDWhSzFjo/Ac2FL3riRDI4FmH8yCMxCcu8JcLvdqcr1hbbTj1Q1dd1QDG9vb5V0MvkcKCXTBQUCKbnCbLNawtKr8MUyBKjX6zBNMX2ppGz0Odlkz4fe5XAjuVtjmgq7fojx0JPrRFW4WCyKTTT1dFqFB84rngcfRFvxTGG97WOTaJi6RTTbRfGXIYkeSj5iWJalwJjs/5ObW0nlEPsN5uJDzQ+kdTrwfEd+iDAYDFX+CJoKexYml/cpUO5Rkldi3IlsMnRT7OFKziyxjK86hWC8plwal3nMJX6KpSpKtszQkX41Ow4COUy3B0Gg6BOEeSEQvcgDPPiQJb8PpMOUZJp5nM7R7o8wkRu9XqgOEojDgZVm11QqFeW18/bLO4agTM+xypstYtGvuw66UinDMNRBAuadUqvVlHXIkrk8DxaLQWWqyjup8nYbIBhbMjBLMI1/RaKBOJ4oqQQnENNAbzK3ZEJ5VBLH8YklCyM+7Iitu1itTbhhFVrrreTDRCDSr2U+VqtVJZl+5LCgdJqYrJvNpnoIRxkfzlUAuwLoiLk70nYaDOtCqBvCJFFVJkOyoB/z4rDyDDLkeCMo73PfHeARdLmk7CtxfV2s4ioWzCEHbF4U9v55/iiVK4Ep/R4g5XthBbpREct0TwUiG/Y0GT60zfmw5fVJ8uHgqDWdSe8GtsgZK2aUzRwS9HPtlz+EXjwBHkG7AtiCaWsC1EG9cXyjmaYt0g21zuaZ7Jk/irm8T/jbA0BHBkETTmhhNI0x8C30hW0UOuj7NrarqQzOTGbdeczl7BKxTKlFOrwPuBfARabhzbWOnz8keHM1wKtiiLelEV5fDnFRT/G+luLVdYJfLxO8vMzXKV5fRfjtMj7PYVcxXK80PH9t4Mm3EZ796OPp9z08+6mn1qff+fjmZYKvfkjw5HmML15MVDx5PsHXv0zx5YvBfUBV6Z2F3TrELJa/F7VreB15+1UuYcskz9IIhy0lLh7HLsN+nTwGPOwlf7ELP4zEzJ7qGE9mZSRVZ+Kn6ewY09nH67O4L5m5PFjS1y5KloeStF6tVld9u9lslHHzYZBHfo/WoWcfMdwLw3Eq/8JGCToyD9lWWTZXQ4HBfmXk1/QfhwLb7u6t90DywcY4suHIwKWxaepWq60m+XFyd8Sjtopj5yxOTXDWyx+rzDb0Aw0lmSiNRgW1+q0M2YowDYXJRHI3VpGmsayxsByrlWB8sf0HPQWa04UZdaIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"module setting\"\n        title=\"\"\n        src=\"/static/6d997f78656cf9d87c2a303238923ee4/fcda8/2.png\"\n        srcset=\"/static/6d997f78656cf9d87c2a303238923ee4/12f09/2.png 148w,\n/static/6d997f78656cf9d87c2a303238923ee4/e4a3f/2.png 295w,\n/static/6d997f78656cf9d87c2a303238923ee4/fcda8/2.png 590w,\n/static/6d997f78656cf9d87c2a303238923ee4/efc66/2.png 885w,\n/static/6d997f78656cf9d87c2a303238923ee4/076ca/2.png 914w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":27,"column":1,"offset":663},"end":{"line":27,"column":25,"offset":687},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"添加之前我们自己编译出来的 Jar 包， Jar 包的路径是在 spring 项目下，对应的 module， build -> libs 下，","position":{"start":{"line":29,"column":1,"offset":689},"end":{"line":29,"column":72,"offset":760},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":689},"end":{"line":29,"column":72,"offset":760},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"4.png","alt":"add jars","position":{"start":{"line":31,"column":1,"offset":762},"end":{"line":31,"column":19,"offset":780},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1dc21233b6cd8c7633d3b1d719da575c/8c48a/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 24.427480916030532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA1klEQVQY04WMQU7DMBBFff9TdMUBQOoCFhWiQFUQoogUSkpJkxASpyEJEqt4/IgNrQSLYunpe+z5Tz2tIpbRmvhNczlLGF9HTG5TZosNd2HDPHwlXr+QpilZlnmSJCHPc9q2/UXTNKjR1YrR9JnpouJoUjA8rzg8Kxle9PP4nSD6pKpLtNbUde2LLl35r8y9q8FxweBEc3D6gbUdYH+Q3d32IWIwZj9d16Hmjw8EPXpTYsQivtyn4DFGeqET/3/cngrCmJv7kGVceNH2YysRkd28j++e8AVsqXvYUpWkKAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"add jars\"\n        title=\"\"\n        src=\"/static/1dc21233b6cd8c7633d3b1d719da575c/fcda8/4.png\"\n        srcset=\"/static/1dc21233b6cd8c7633d3b1d719da575c/12f09/4.png 148w,\n/static/1dc21233b6cd8c7633d3b1d719da575c/e4a3f/4.png 295w,\n/static/1dc21233b6cd8c7633d3b1d719da575c/fcda8/4.png 590w,\n/static/1dc21233b6cd8c7633d3b1d719da575c/efc66/4.png 885w,\n/static/1dc21233b6cd8c7633d3b1d719da575c/c83ae/4.png 1180w,\n/static/1dc21233b6cd8c7633d3b1d719da575c/8c48a/4.png 2096w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":31,"column":1,"offset":762},"end":{"line":31,"column":19,"offset":780},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"看到这里一共添加了 3 个 jar 包，这个 Core 是 Beans 依赖的， 而 apache commons 是 Core 依赖的。","position":{"start":{"line":33,"column":1,"offset":782},"end":{"line":33,"column":70,"offset":851},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":782},"end":{"line":33,"column":70,"offset":851},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#使用-beans","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"使用 Beans","position":{"start":{"line":35,"column":4,"offset":856},"end":{"line":35,"column":12,"offset":864},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":853},"end":{"line":35,"column":12,"offset":864},"indent":[]},"data":{"id":"使用-beans","htmlAttributes":{"id":"使用-beans"},"hProperties":{"id":"使用-beans"}}},{"type":"paragraph","children":[{"type":"text","value":"添加 MyTestBean.java 类，","position":{"start":{"line":37,"column":1,"offset":866},"end":{"line":37,"column":22,"offset":887},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":866},"end":{"line":37,"column":22,"offset":887},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>fengqijun</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyTestBean</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> testStr <span class=\"token operator\">=</span> <span class=\"token string\">\"test string\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getTestStr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> testStr<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span>  <span class=\"token keyword\">void</span> <span class=\"token function\">setTestStr</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>testStr <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":39,"column":1,"offset":889},"end":{"line":55,"column":4,"offset":1142},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"在 resources 目录下，添加 beans.xml 文件 ","position":{"start":{"line":57,"column":1,"offset":1144},"end":{"line":57,"column":33,"offset":1176},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1144},"end":{"line":57,"column":33,"offset":1176},"indent":[]}},{"type":"html","lang":"xml","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>myTestBean<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>me.fengqijun.MyTestBean<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":59,"column":1,"offset":1178},"end":{"line":66,"column":4,"offset":1551},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"修改 Main.java 类","position":{"start":{"line":68,"column":1,"offset":1553},"end":{"line":68,"column":15,"offset":1567},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1553},"end":{"line":68,"column":15,"offset":1567},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>fengqijun</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>support</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">DefaultListableBeanFactory</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>xml</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">XmlBeanDefinitionReader</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>io</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">ClassPathResource</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Main</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token class-name\">DefaultListableBeanFactory</span> factory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultListableBeanFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">XmlBeanDefinitionReader</span> xmlBeanDefinitionReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XmlBeanDefinitionReader</span><span class=\"token punctuation\">(</span>factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        xmlBeanDefinitionReader<span class=\"token punctuation\">.</span><span class=\"token function\">loadBeanDefinitions</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathResource</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beans.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">MyTestBean</span> bean <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">MyTestBean</span><span class=\"token punctuation\">)</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myTestBean\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>bean<span class=\"token punctuation\">.</span><span class=\"token function\">getTestStr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":70,"column":1,"offset":1569},"end":{"line":90,"column":4,"offset":2263},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"运行，可以看到 Console 输出：","position":{"start":{"line":92,"column":1,"offset":2265},"end":{"line":92,"column":20,"offset":2284},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2265},"end":{"line":92,"column":20,"offset":2284},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"5.png","alt":"result","position":{"start":{"line":94,"column":1,"offset":2286},"end":{"line":94,"column":17,"offset":2302},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/252242b85c7efe4ad6c32245afe1e8bd/0940f/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.91507798960139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA50lEQVQoz62OXWuDMBSG8///2W4KXsgUnVaTmMZM40e1gya+S8JktdBd7cDD+5yXcAhJswLvBcMprfAWpYhLgTNXqLhESR1MuWwDZ+fP7P2eJKclCsrxwXucYo44k6gqBSFGcD7gchnd3oMxHbxpBig1B7w/QqkGqRl1DwWu84TlOmGeBgyDxqvZtl28b4fO74QzjjzP0HUTus8bxvHL5YpWzmjb2fULtF6D985/j/wkjkmapkEURe5XI6zdcL+bByyMx9iw+/SH/oIIIZAkCZZlwX8MkVKirmus6xoKa+0BY0zguX/FN7/2GjToE550AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"result\"\n        title=\"\"\n        src=\"/static/252242b85c7efe4ad6c32245afe1e8bd/fcda8/5.png\"\n        srcset=\"/static/252242b85c7efe4ad6c32245afe1e8bd/12f09/5.png 148w,\n/static/252242b85c7efe4ad6c32245afe1e8bd/e4a3f/5.png 295w,\n/static/252242b85c7efe4ad6c32245afe1e8bd/fcda8/5.png 590w,\n/static/252242b85c7efe4ad6c32245afe1e8bd/efc66/5.png 885w,\n/static/252242b85c7efe4ad6c32245afe1e8bd/0940f/5.png 1154w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":94,"column":1,"offset":2286},"end":{"line":94,"column":17,"offset":2302},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#入门-bean-factory","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"入门 Bean Factory","position":{"start":{"line":96,"column":4,"offset":2307},"end":{"line":96,"column":19,"offset":2322},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2304},"end":{"line":96,"column":19,"offset":2322},"indent":[]},"data":{"id":"入门-bean-factory","htmlAttributes":{"id":"入门-bean-factory"},"hProperties":{"id":"入门-bean-factory"}}},{"type":"paragraph","children":[{"type":"text","value":"从示例代码里看到，用 DefaultListableBeanFactory， 这个示 Spring 默认的 BeanFactory，","position":{"start":{"line":98,"column":1,"offset":2324},"end":{"line":98,"column":67,"offset":2390},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":2324},"end":{"line":98,"column":67,"offset":2390},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"  Spring’s default implementation of the {@link ConfigurableListableBeanFactory}\n  and {@link BeanDefinitionRegistry} interfaces: a full-fledged bean factory\n  based on bean definition metadata, extensible through post-processors.","position":{"start":{"line":100,"column":1,"offset":2392},"end":{"line":102,"column":73,"offset":2622},"indent":[1,1]}}],"position":{"start":{"line":100,"column":1,"offset":2392},"end":{"line":102,"column":73,"offset":2622},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"而 BeanFactory 需要有一个 BeanDefinitionReader，通过 Reader 来加载 Beans。","position":{"start":{"line":104,"column":1,"offset":2624},"end":{"line":104,"column":62,"offset":2685},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":2624},"end":{"line":104,"column":62,"offset":2685},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"># <span class=\"token class-name\">XmlBeanDefinitionReader</span><span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">loadBeanDefinitions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EncodedResource</span> encodedResource<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">BeanDefinitionStoreException</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">notNull</span><span class=\"token punctuation\">(</span>encodedResource<span class=\"token punctuation\">,</span> <span class=\"token string\">\"EncodedResource must not be null\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">isTraceEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">trace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading XML bean definitions from \"</span> <span class=\"token operator\">+</span> encodedResource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token function\">doLoadBeanDefinitions</span><span class=\"token punctuation\">(</span>inputSource<span class=\"token punctuation\">,</span> encodedResource<span class=\"token punctuation\">.</span><span class=\"token function\">getResource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n\n# doLoadBeanDefinitions 由调用了 registerBeanDefinitions\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">registerBeanDefinitions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Document</span> doc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Resource</span> resource<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">BeanDefinitionStoreException</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">BeanDefinitionDocumentReader</span> documentReader <span class=\"token operator\">=</span> <span class=\"token function\">createBeanDefinitionDocumentReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">int</span> countBefore <span class=\"token operator\">=</span> <span class=\"token function\">getRegistry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBeanDefinitionCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tdocumentReader<span class=\"token punctuation\">.</span><span class=\"token function\">registerBeanDefinitions</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">,</span> <span class=\"token function\">createReaderContext</span><span class=\"token punctuation\">(</span>resource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">getRegistry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBeanDefinitionCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> countBefore<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":106,"column":1,"offset":2687},"end":{"line":130,"column":4,"offset":3561},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"这里又调用了一个 DefaultBeanDefinitionDocumentReader 的 registerBeanDefinitions， 这个是默认的 Reader，","position":{"start":{"line":132,"column":1,"offset":3563},"end":{"line":132,"column":87,"offset":3649},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":3563},"end":{"line":132,"column":87,"offset":3649},"indent":[]}},{"type":"html","lang":"java","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\t<span class=\"token comment\">/**\n\t * Register each bean definition within the given root {@code &lt;beans/>} element.\n\t */</span>\n\t<span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deprecation\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// for Environment.acceptsProfiles(String...)</span>\n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doRegisterBeanDefinitions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Element</span> root<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Any nested &lt;beans> elements will cause recursion in this method. In</span>\n\t\t<span class=\"token comment\">// order to propagate and preserve &lt;beans> default-* attributes correctly,</span>\n\t\t<span class=\"token comment\">// keep track of the current (parent) delegate, which may be null. Create</span>\n\t\t<span class=\"token comment\">// the new (child) delegate with a reference to the parent for fallback purposes,</span>\n\t\t<span class=\"token comment\">// then ultimately reset this.delegate back to its original (parent) reference.</span>\n\t\t<span class=\"token comment\">// this behavior emulates a stack of delegates without actually necessitating one.</span>\n\t\t<span class=\"token class-name\">BeanDefinitionParserDelegate</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>delegate<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>delegate <span class=\"token operator\">=</span> <span class=\"token function\">createDelegate</span><span class=\"token punctuation\">(</span><span class=\"token function\">getReaderContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> root<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>delegate<span class=\"token punctuation\">.</span><span class=\"token function\">isDefaultNamespace</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token class-name\">String</span> profileSpec <span class=\"token operator\">=</span> root<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span>PROFILE_ATTRIBUTE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasText</span><span class=\"token punctuation\">(</span>profileSpec<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> specifiedProfiles <span class=\"token operator\">=</span> <span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">tokenizeToStringArray</span><span class=\"token punctuation\">(</span>\n\t\t\t\t\t\tprofileSpec<span class=\"token punctuation\">,</span> <span class=\"token class-name\">BeanDefinitionParserDelegate</span><span class=\"token punctuation\">.</span>MULTI_VALUE_ATTRIBUTE_DELIMITERS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token comment\">// We cannot use Profiles.of(...) since profile expressions are not supported</span>\n\t\t\t\t<span class=\"token comment\">// in XML config. See SPR-12458 for details.</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">getReaderContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEnvironment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">acceptsProfiles</span><span class=\"token punctuation\">(</span>specifiedProfiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">isDebugEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Skipped XML bean definition file due to specified profiles [\"</span> <span class=\"token operator\">+</span> profileSpec <span class=\"token operator\">+</span>\n\t\t\t\t\t\t\t\t<span class=\"token string\">\"] not matching: \"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getReaderContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token function\">preProcessXml</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">parseBeanDefinitions</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>delegate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">postProcessXml</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>delegate <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":134,"column":1,"offset":3651},"end":{"line":172,"column":4,"offset":5368},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"大体上的调用关系如这个图，","position":{"start":{"line":174,"column":1,"offset":5370},"end":{"line":174,"column":14,"offset":5383},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":5370},"end":{"line":174,"column":14,"offset":5383},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"6.jpg","alt":"beans call stack","position":{"start":{"line":176,"column":1,"offset":5385},"end":{"line":176,"column":27,"offset":5411},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/020e770bd9ea1b3eec46487df1090016/c06f5/6.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 129.31654676258992%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB9yXEdBEmgB//xAAVEAEBAAAAAAAAAAAAAAAAAAAgEf/aAAgBAQABBQJw/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ak//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEQMVEgYf/aAAgBAQABPyF1BemG+XBR0YS5T75//9oADAMBAAIAAwAAABCQP8//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QCbP/xAAeEAEAAQQCAwAAAAAAAAAAAAABEQAQIXEgUWGBkf/aAAgBAQABPxBpgh5aY5TVpiAbUAA16tAhn1QTM/XH/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"beans call stack\"\n        title=\"\"\n        src=\"/static/020e770bd9ea1b3eec46487df1090016/1c72d/6.jpg\"\n        srcset=\"/static/020e770bd9ea1b3eec46487df1090016/a80bd/6.jpg 148w,\n/static/020e770bd9ea1b3eec46487df1090016/1c91a/6.jpg 295w,\n/static/020e770bd9ea1b3eec46487df1090016/1c72d/6.jpg 590w,\n/static/020e770bd9ea1b3eec46487df1090016/a8a14/6.jpg 885w,\n/static/020e770bd9ea1b3eec46487df1090016/fbd2c/6.jpg 1180w,\n/static/020e770bd9ea1b3eec46487df1090016/c06f5/6.jpg 1668w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":176,"column":1,"offset":5385},"end":{"line":176,"column":27,"offset":5411},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"今天代码读不动了，下次继续。。。","position":{"start":{"line":178,"column":1,"offset":5413},"end":{"line":178,"column":17,"offset":5429},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":5413},"end":{"line":178,"column":17,"offset":5429},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":179,"column":1,"offset":5430}}}}